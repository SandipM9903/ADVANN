Today we will start the most important module for ATS + real company projects.

Because now your project will become a real e-commerce backend.

======================================================================================================

ğŸ¯ Goal of Day 9

We will create:

âœ… User Service
âœ… Register API
âœ… Login API
âœ… JWT Token generation
âœ… Password encryption (BCrypt)
âœ… Role based user (ADMIN / CUSTOMER)
âœ… Swagger testing for login/register

=======================================================================================================

ğŸ— Microservices Today

Till now we have:

Eureka Server (8761)

API Gateway (8080)

Product Service (8081)

Now we will create:

âœ… User Service (8083)

=======================================================================================================

âœ… Step 1: Create new Spring Boot Project (user-service)
Name:

user-service

Dependencies:

Select these:

âœ… Spring Web
âœ… Spring Data JPA
âœ… PostgreSQL Driver
âœ… Spring Security
âœ… Validation
âœ… Lombok
âœ… Eureka Discovery Client

(Actuator + Swagger we can add later)

=======================================================================================================

âœ… Step 2: Add dependencies in pom.xml (JWT + Swagger optional)

Add JWT dependency:

<dependency>
    <groupId>io.jsonwebtoken</groupId>
    <artifactId>jjwt-api</artifactId>
    <version>0.11.5</version>
</dependency>

<dependency>
    <groupId>io.jsonwebtoken</groupId>
    <artifactId>jjwt-impl</artifactId>
    <version>0.11.5</version>
    <scope>runtime</scope>
</dependency>

<dependency>
    <groupId>io.jsonwebtoken</groupId>
    <artifactId>jjwt-jackson</artifactId>
    <version>0.11.5</version>
    <scope>runtime</scope>
</dependency>

=======================================================================================================

âœ… Step 3: application.yml for user-service

Create:

ğŸ“Œ user-service/src/main/resources/application.yml

server:
  port: 8083

spring:
  application:
    name: user-service

  datasource:
    url: jdbc:postgresql://postgres-db:5432/advann_db
    username: postgres
    password: root

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

eureka:
  client:
    service-url:
      defaultZone: http://eureka-server:8761/eureka/

======================================================================================================

âœ… Step 4: Create Package Structure

Inside com.advann.user_service

entity
repository
service
serviceImpl
controller
dto
security
exceptions
payload

======================================================================================================

âœ… Step 5: Create User Entity

ğŸ“Œ entity/User.java

package com.advann.user_service.entity;

package com.advann.user_service.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.NotBlank;
import lombok.*;

@Entity
@Table(name = "users")
@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @NotBlank(message = "Name cannot be blank")
    @Column(nullable = false)
    private String name;

    @NotBlank(message = "Email cannot be blank")
    @Column(nullable = false, unique = true)
    private String email;

    @Column(nullable = false)
    private String password;

    @Enumerated(EnumType.STRING)
    private Role role;
}

==============================================================================================

âœ… Step 6: Create Role Enum

ğŸ“Œ entity/Role.java

package com.advann.user_service.entity;


public enum Role {
    ADMIN,
    CUSTOMER
}

==============================================================================================

âœ… Step 7: Create UserRepository

ğŸ“Œ repository/UserRepository.java

package com.advann.user_service.repository;


import com.advann.user_service.entity.User;
import org.springframework.data.jpa.repository.JpaRepository;


import java.util.Optional;


public interface UserRepository extends JpaRepository<User, Long> {
    Optional<User> findByEmail(String email);
    boolean existsByEmail(String email);
}

==============================================================================================

âœ… Step 8: Run user-service and Check Eureka

Now run:

Eureka Server

API Gateway

Product Service

User Service

Then check Eureka dashboard:

ğŸ‘‰ http://localhost:8761

You should see:

âœ… PRODUCT-SERVICE
âœ… API-GATEWAY
âœ… USER-SERVICE

================================================================================================

