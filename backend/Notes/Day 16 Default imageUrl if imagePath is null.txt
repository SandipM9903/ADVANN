Perfect Sandip âœ… this is a very professional feature.

Now we will ensure that if product has no image, API will return a default image URL instead of null.

âœ… Step 1: Put a Default Image in uploads folder

Create this folder if not exists:

uploads/products/

Now put one image inside it:

ðŸ“Œ Example file name:

default.png

So path becomes:

uploads/products/default.png
âœ… Step 2: Update buildImageUrl() method

Update your method like this:

private String buildImageUrl(String imagePath) {


    String baseUrl = "http://localhost:8081";


    if (imagePath == null || imagePath.isBlank()) {
        return baseUrl + "/uploads/products/default.png";
    }


    return baseUrl + imagePath;
}
âœ… Step 3: Update Mapping in getAllProducts()

Already you did:

.imageUrl(buildImageUrl(product.getImagePath()))

Now if imagePath is null, it will automatically return default image URL.

âœ… Output Example

If product has no image:

"imagePath": null,
"imageUrl": "http://localhost:8081/uploads/products/default.png"